{% extends "layout.html" %}
{% block title %}Question {{ question.id }}{% endblock %}
{% block body %}

    <h1>Question</h1>
    <div class="display_question">
        <a href="/">
            <button>Return to all questions</button>
        </a>
        <hr>
        <h2>{{ question.title }}</h2>
        <p><small>Added: {{ question.submission_time }}</small></p>
        {% if question.image %}
            <a href="{{ question.image }}" target="_blank">
                <img src="{{ question.image if question.image }}"
                     height="100" alt="Uploaded image" style="float:left; padding: 10px; margin: 10px">
            </a><br>
        {% endif %}
        {% if error %}
            <iframe src="/error.html" title="Oops! "></iframe>
        {% endif %}
        <p style="margin-top: 10px; padding: 5px; text-align: left;">{{ question.message }}</p>
        <form method="get" action="{{ question.id }}/edit">
            <button type="submit">Edit Question</button>
        </form>
        <hr>
    </div>
    <h3>Answers</h3>

    <table>
    <thead>
    <tr>
        <th>
            Votes
        </th>
        <th>
            Data Added
        </th>
        <th>
            Answer
        </th>
        <th>
            Image
        </th>
        <th>
            Action
        </th>
    </tr>
    </thead>
        <tbody>
        {% for answer in answers %}
            <tr style="flex-direction: row">
                <td style="display: inline-block; width: 10px; flex-direction: row">
                    <form method="post" action="/answer/{{ answer.id }}/vote-up">
                        <button class="arrow" type="submit" style="width: 15px"> &#8679
                        </button>
                    </form>
                <td style="display: inline-block; width: 10px; flex-direction: row">
                <br><small>{{ answer.vote_number }} </small><br><br></td>
                <td style="display: inline-block; width: 10px; flex-direction: row">
                    <form method="post" action="/answer/{{ answer.id }}/vote-down">
                        <button class="arrow" type="submit" style="width: 15px">&#8681
                        </button>
                    </form>
                </td>
                <td style="width: 50px;">
                    <small>{{ answer.submission_time }}</small><br>
                </td>
                </td>
                <td style="width: 150px;">
                    <p>{{ answer.message }}</p>
                    <br>
                </td>
                <td style="width: 15%;">
                    {% if answer.image %}
                        <a href="{{ answer.image }}" target="_blank">
                            <img src="{{ answer.image if answer.image }}" height="100px" alt="Uploaded image"
                                 style="float:left;"></a><br>
                    {% endif %}
                </td>
                <td style="width: 10%;">
                    <form method="post" action="/answer/{{ answer.id }}/delete">
                        <label for="question_id"></label>
                        <input name="question_id" id="question_id" value="{{ question.id }}" readonly
                               style="display: None;"><br>
                        <input type="submit" value="Delete" style="width: 60px;">
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {#    <div style="display: inline-flex; width: 100%;">#}
    {#        {% for answer in answers %}#}
    {#            <div style="margin: 10px; display: inline-block">#}
    {#                <form method="post" action="/answer/{{ answer.id }}/vote-up">#}
    {#                    <button class="arrow" type="submit"#}
    {#                            style="width: 15px; display: inline-block; position: relative; right: 50px; flex-direction: row">#}
    {#                        &#8679#}
    {#                    </button>#}
    {#                </form>#}
    {#            </div>#}
    {#                            <div style="margin: 10px;">#}
    {##}
    {#                <form method="post" action="/answer/{{ answer.id }}/vote-down">#}
    {#                    <button class="arrow" type="submit"#}
    {#                            style="width: 15px; display: inline-block; position: relative; right: 8px; flex-direction: row">#}
    {#                        &#8681#}
    {#                    </button>#}
    {#                </form></div>#}
    {#                <div style="margin: 10px;">#}
    {#                            Votes: {{ answer.vote_number }}#}
    {#                </div>#}
    {#            </div>#}
    {#            <div style="margin: 10px">#}
    {#                <small>Added on {{ answer.submission_time }} </small><br>#}
    {#            </div>#}
    {#            <div style="margin: 10px">#}
    {#                <p>{{ answer.message }}</p>#}
    {#            </div>#}
    {#            {% if answer.image %}#}
    {#                <div style="margin: 10px">#}
    {#                    <a href="{{ answer.image }}" target="_blank">#}
    {#                        <img src="{{ answer.image if answer.image }}" height="100px" alt="Uploaded image"#}
    {#                             style="float:left;"></a><br>#}
    {#                </div>#}
    {#            {% endif %}#}
    {#            <div style="margin: 10px">#}
    {#                <form method="post" action="/answer/{{ answer.id }}/delete">#}
    {#                    <label for="question_id"></label>#}
    {#                    <input name="question_id" id="question_id" value="{{ question.id }}" readonly#}
    {#                           style="display: None;"><br>#}
    {#                    <input type="submit" value="Delete" style="width: 60px;">#}
    {#                </form>#}
    {#            </div>#}
    {#        {% endfor %}#}
    {#    </div>#}

    <a href="/question/{{ question.id }}/new-answer">
        <button style="alignment: center">Add a new answer</button>
    </a>
    <a href="/question/{{ question.id }}/delete">
        <button style="alignment: center">Delete question</button>
    </a>
{% endblock %}
