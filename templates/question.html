{% extends "layout.html" %}
{% block title %}Question {{ question.id }}{% endblock %}
{% block body %}

    <h1>Question</h1>
    <a href="/">
        <button>Return to all questions</button>
    </a>

    <h2>{{ question.title }}</h2>
    <p><small>Added: {{ question.submission_time }}</small></p>
    {% if question.image %}
        <a href="{{ question.image }}" target="_blank">
            <img src="{{ question.image if question.image }}"
                 height="100" alt="Uploaded image">
        </a><br>
    {% endif %}
    <p>{{ question.message }}</p>
    <br>
    <br>
    <br>
    <br>

    <br>
    <form method="get" action="{{ question.id }}/edit">
        <button type="submit">Edit Question</button>
    </form><br>
    <h3>Answers</h3>

    <table>
        <thead>
        <tr>
            <th>
                Answer
            </th>
            <th>
                Data Added
            </th>
            <th>
                Image
            </th>
            <th>
                Action
            </th>
            <th>
                Votes
            </th>
            <th>
                Vote
            </th>
        </tr>
        </thead>
        <tbody>
        {% for answer in answers %}
            <tr>
                <td>
                    <p>{{ answer.message }}</p>
                    <br>
                </td>
                <td>
                    <small>{{ answer.submission_time }}</small><br>
                </td>
                <td>
                    {% if answer.image %}
                        <a href="{{ answer.image }}" target="_blank">
                            <img src="{{ answer.image if answer.image }}" height="100px" alt="Uploaded image"
                            ></a><br>
                    {% endif %}
                </td>
                <td>
                    <form method="post" action="/answer/{{ answer.id }}/delete">
                        <label for="question_id"></label>
                        <input name="question_id" id="question_id" value="{{ question.id }}" readonly
                        ><br>
                        <input type="submit" value="Delete">
                    </form>
                </td>

                <td>
                    <form method="post" action="/answer/{{ answer.id }}/vote-up">
                        <button type="submit"> &#8679
                        </button>
                    </form>
                </td>
                <td>
                    <br><small>{{ answer.vote_number }} </small><br><br>
                </td>

                <td>
                    <form method="post" action="/answer/{{ answer.id }}/vote-down">
                        <button type="submit">&#8681
                        </button>
                    </form>
                </td>

            </tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="/question/{{ question.id }}/new-answer">
        <button>Add a new answer</button>
    </a>
    <a href="/question/{{ question.id }}/delete">
        <button>Delete question</button>
    </a>
{% endblock %}
