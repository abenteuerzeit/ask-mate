{% extends "layout.html" %}
{% block title %}List Questions{% endblock %}
{% block body %}
    <div>
    <img src="/uploads/logo.jpg" alt="logo" height="100">
        <h1>All questions</h1>
        <a href="/add-question">Add question</a>
{#        <form>#}
{#            <form method='get' action="/add-question">#}
{#                <button type="submit">Add a question</button>#}
{#        </form>#}
        <table>
            <thead style="border: 2px">
            <tr>
            <th style="width: 10%">ID
                <a href="/list?order_by=id"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=id&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th style="width: 10%">Added
                <a href="/list?order_by=submission_time"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=submission_time&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th>Views
                <a href="/list?order_by=view_number"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=view_number&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th> Votes
                <a href="/list?order_by=vote_number"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=vote_number&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th> Title
                <a href="/list?order_by=title"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=title&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th>Question
                <a href="/list?order_by=title"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=title&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            <th>Image
                <a href="/list?order_by=message"><i class="fa-solid fa-circle-arrow-down"></i></a>
                <a href="/list?order_by=message&order_direction=asc"><i class="fa-solid fa-circle-arrow-up"></i></a>
            </th>
            </tr>
            </thead>
            <tbody>
            {% for row in questions %}
                <tr>
                    <td>
                        {{ row.id }}
                    </td>
                    <td>{{ row.submission_time }}</td>
                    <td>{{ row.view_number }}</td>
                    <td>{{ row.vote_number }}
                        <table style="display: inline;">
                            <tbody>
                            <tr>
                                <td>
                                    <form method="post" action="/question/{{ row.id }}/vote-up">
                                    <button type="submit"><span>&#8679;</span></button>
                                    </form>
                                    <form method="post" action="/question/{{ row.id }}/vote-down">
                                    <button type="submit"><span>&#8681;</span></button>
                                    </form>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                    <td>
                        <a href="/question/{{ row.id }}"> {{ row.title }} </a>
                    </td>
                    <td> {{ row.message }} <br>
                    </td>
                    <td>
                        {% if row.image %}
                        <img src="{{ row.image }}" alt="uploaded image" width="25"> </td>
                        {% else %}
                        None
                        {% endif %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <small> Questions ordered by {{ order_by }}: {{ order_direction }}</small>
{% endblock %}